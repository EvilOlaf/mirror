name: Delete releases
on:
  workflow_dispatch:

jobs:
  Purge:
    runs-on: ubuntu-20.04
    if: ${{ github.repository_owner == 'Armbian' }}
    timeout-minutes: 480
    strategy:
      max-parallel: 4
      fail-fast: false
      matrix: 
        include: # build this way: cat userdata.csv | cut -d"/" -f1 | uniq | sed 's/.*/          - board: &/'
          - board: aml-s9xx-box
          - board: bananapi
          - board: bananapicm4io
          - board: bananapim1plus
          - board: bananapim2plus
          - board: bananapim2pro
          - board: bananapim2s
          - board: bananapim2ultra
          - board: bananapim2zero
          - board: bananapim3
          - board: bananapim5
          - board: bananapim64
          - board: bananapipro
          - board: beelinkx2
          - board: bigtreetech-cb1
          - board: clearfogbase
          - board: clearfogpro
          - board: clockworkpi-a06
          - board: cubieboard
          - board: cubieboard2
          - board: cubieboard4
          - board: cubietruck
          - board: cubox-i
          - board: espressobin
          - board: firefly-rk3399
          - board: helios4
          - board: helios64
          - board: hikey960
          - board: inovato-quadra
          - board: jethubj100
          - board: jethubj80
          - board: khadas-edge
          - board: khadas-edge2
          - board: khadas-vim1
          - board: khadas-vim1s
          - board: khadas-vim2
          - board: khadas-vim3
          - board: khadas-vim3l
          - board: khadas-vim4
          - board: lafrite
          - board: lepotato
          - board: lime-a33
          - board: lime-a64
          - board: lime
          - board: lime2
          - board: mekotronics-r58-minipc
          - board: mekotronics-r58x-4g
          - board: mekotronics-r58x-pro
          - board: mekotronics-r58x
          - board: melea1000
          - board: micro
          - board: mixtile-blade3
          - board: nanopct6
          - board: nanopi-r1
          - board: nanopi-r1s-h5
          - board: nanopi-r2c
          - board: nanopi-r2s
          - board: nanopi-r4s
          - board: nanopi-r4se
          - board: nanopi-r5s
          - board: nanopi-r6s
          - board: nanopia64
          - board: nanopiair
          - board: nanopiduo
          - board: nanopiduo2
          - board: nanopik1plus
          - board: nanopik2-s905
          - board: nanopim4
          - board: nanopim4v2
          - board: nanopineo
          - board: nanopineo2
          - board: nanopineo2black
          - board: nanopineo3
          - board: nanopineo4
          - board: nanopineocore2
          - board: nanopineoplus2
          - board: odroidc2
          - board: odroidc4
          - board: odroidhc4
          - board: odroidm1
          - board: odroidn2
          - board: odroidxu4
          - board: olimex-teres-a64
          - board: onecloud
          - board: orangepi-r1
          - board: orangepi-r1plus-lts
          - board: orangepi-r1plus
          - board: orangepi-rk3399
          - board: orangepi2
          - board: orangepi3-lts
          - board: orangepi3
          - board: orangepi3b
          - board: orangepi4-lts
          - board: orangepi4
          - board: orangepi5-plus
          - board: orangepi5
          - board: orangepilite2
          - board: orangepione
          - board: orangepioneplus
          - board: orangepipc
          - board: orangepipc2
          - board: orangepipcplus
          - board: orangepiplus
          - board: orangepiplus2e
          - board: orangepiprime
          - board: orangepiwin
          - board: orangepizero
          - board: orangepizero2
          - board: orangepizeroplus
          - board: orangepizeroplus2-h3
          - board: orangepizeroplus2-h5
          - board: panther-x2
          - board: pcduino3
          - board: pine64
          - board: pine64so
          - board: pinebook-a64
          - board: pinebook-pro
          - board: pinecube
          - board: pineh64-b
          - board: pineh64
          - board: quartz64a
          - board: quartz64b
          - board: radxa-e25
          - board: radxa-zero
          - board: radxa-zero2
          - board: recore
          - board: renegade
          - board: rk322x-box
          - board: rk3318-box
          - board: roc-rk3399-pc
          - board: rock-3a
          - board: rock-4se
          - board: rock-5a
          - board: rock-5b
          - board: rock64
          - board: rockpi-4a
          - board: rockpi-4b
          - board: rockpi-4bplus
          - board: rockpi-4c
          - board: rockpi-4cplus
          - board: rockpi-e
          - board: rockpi-n10
          - board: rockpi-s
          - board: rockpro64
          - board: rpi4b
          - board: rpi5b
          - board: sk-am62b
          - board: sk-am64b
          - board: sk-tda4vm
          - board: sunvell-r69
          - board: thinkpad-x13s
          - board: tinkerboard-2
          - board: tinkerboard
          - board: tritium-h3
          - board: tritium-h5
          - board: udoo
          - board: uefi-arm64
          - board: uefi-riscv64
          - board: uefi-x86
          - board: wsl2-arm64
          - board: wsl2-x86
          - board: xiaomi-elish
          - board: xt-q8l-v10
          - board: zeropi
          - board: nanopiduo
          - board: nanopiduo2
          - board: nanopiduo
          - board: nanopiduo2
          - board: nanopiduo
          - board: nanopiduo2
          - board: qemu-uboot-x86
          - board: nanopiduo
          - board: tritium-h3
          - board: nanopiduo2
          - board: nanopiduo
          - board: nanopiduo2
          - board: nanopiduo
          - board: nanopiduo2
          - board: nanopiduo
          - board: sk-am64b
          - board: sk-am62b
          - board: nanopi-r4s
          - board: orangepi-r1
          - board: nanopi-r4s
          - board: qemu-uboot-arm64
          - board: uefi-x86
          - board: qemu-uboot-x86
          - board: uefi-x86
          - board: orangepi-r1
          - board: uefi-x86
          - board: orangepi-r1
          - board: uefi-x86
          - board: orangepi-r1
          - board: qemu-uboot-x86
          - board: odroidxu4
          - board: qemu-uboot-x86
          - board: odroidxu4
          - board: qemu-uboot-x86
          - board: odroidxu4
          - board: qemu-uboot-x86
          - board: orangepi-r1
          - board: orangepizero
          - board: orangepi-r1
          - board: onecloud
          - board: orangepi5
          - board: onecloud
          - board: lepotato
          - board: tritium-h3
          - board: tinkerboard
          - board: tritium-h3
          - board: tinkerboard
          - board: tritium-h3
          - board: tinkerboard
          - board: tritium-h3
          - board: tinkerboard
          - board: tritium-h3
          - board: odroidxu4
          - board: tritium-h3
          - board: orangepione
          - board: orangepizero
          - board: tinkerboard
          - board: orangepizero
          - board: sk-am64b
          - board: rpi4b
          - board: odroidc2
          - board: rockpi-s
          - board: sk-am64b
          - board: orangepizero
          - board: odroidc2
          - board: uefi-x86
          - board: pine64
          - board: orangepiprime
          - board: orangepione
          - board: tinkerboard
          - board: khadas-vim2
          - board: rockpi-s
          - board: nanopi-r6s
          - board: sk-am62b
          - board: nanopi-r4s
          - board: khadas-edge2
          - board: rockpi-4a
          - board: nanopi-r4s
          - board: khadas-edge2
          - board: rockpi-4a
          - board: nanopi-r4s
          - board: khadas-edge2
          - board: rockpi-4a
          - board: nanopi-r4s
          - board: khadas-edge2
          - board: rockpi-4a
          - board: orangepizero2
          - board: uefi-x86
          - board: odroidm1
          - board: bananapim2pro
          - board: tinkerboard
          - board: bananapim2pro
          - board: tinkerboard
          - board: bananapim2pro
          - board: tinkerboard
          - board: bananapim2pro
          - board: orangepione
          - board: rockpro64
          - board: khadas-vim1
          - board: khadas-vim1s
          - board: odroidm1
          - board: tritium-h3
          - board: khadas-edge2
          - board: odroidxu4
          - board: licheepi-4a
          - board: qemu-uboot-arm64
          - board: orangepizero2
          - board: bananapicm4io
          - board: onecloud
          - board: odroidxu4
          - board: nanopi-r6s
          - board: mekotronics-r58-minipc
          - board: onecloud
          - board: sk-am64b
          - board: fxblox-rk1
          - board: bananapim2s
          - board: fxblox-rk1
          - board: bananapim2s
          - board: lafrite
          - board: licheepi-4a
          - board: bananapim2pro
          - board: rock-3a
          - board: orangepi5-plus
          - board: mekotronics-r58x-4g
          - board: bananapicm4io
          - board: orangepione
          - board: fxblox-rk1
          - board: odroidn2
          - board: rockpi-s
          - board: orangepiprime
          - board: nanopi-r6s
          - board: khadas-edge2
          - board: lepotato
          - board: jethubj100
          - board: orangepi5
          - board: qemu-uboot-arm64
          - board: rockpi-4a
          - board: rock-5b
          - board: jethubj80
          - board: bananapim5
          - board: khadas-vim1
          - board: pine64
          - board: rpi4b
          - board: mekotronics-r58-minipc
          - board: radxa-e25
          - board: khadas-vim2
          - board: odroidn2
          - board: bananapim2s
          - board: odroidn2
          - board: bananapim2s
          - board: khadas-vim1s
          - board: radxa-e25
          - board: khadas-vim1s
          - board: radxa-e25
          - board: khadas-vim1s
          - board: pinebook-pro
          - board: rpi5b
          - board: radxa-zero2
          - board: orangepizero2
          - board: khadas-vim3
          - board: bigtreetech-cb1
          - board: mixtile-blade3
          - board: mekotronics-r58x-4g
          - board: mixtile-blade3
          - board: mekotronics-r58x-4g
          - board: orangepiprime
          - board: uefi-arm64
          - board: radxa-zero2
          - board: khadas-vim4
          - board: pinebook-pro
          - board: orangepi-r1plus-lts
          - board: rpi5b
          - board: orangepi4-lts
          - board: nanopct6
          - board: khadas-vim1
          - board: khadas-vim3
          - board: khadas-vim1
          - board: khadas-vim3
          - board: khadas-vim1
          - board: khadas-vim3
          - board: khadas-vim1
          - board: khadas-vim3
          - board: rockpi-4a
          - board: odroidc2
          - board: radxa-zero2
          - board: orangepizero2
          - board: olimex-teres-a64
          - board: khadas-vim3l
          - board: mekotronics-r58x
          - board: nanopct6
          - board: sk-tda4vm
          - board: orangepi-r1plus-lts
          - board: khadas-vim3l
          - board: bananapicm4io
          - board: rockpro64
          - board: orangepi4-lts
          - board: radxa-zero
          - board: mixtile-blade3
          - board: licheepi-4a
          - board: odroidn2
          - board: tritium-h5
          - board: odroidc2
          - board: rock-5a
          - board: renegade
          - board: mekotronics-r58x
          - board: rock-5a
          - board: rpi5b
          - board: jethubj80
          - board: bananapim2pro
          - board: mixtile-blade3
          - board: orangepi-r1plus-lts
          - board: pine64
          - board: orangepi-r1plus-lts
          - board: pine64
          - board: orangepi-r1plus-lts
          - board: pine64
          - board: tritium-h5
          - board: rpi4b
          - board: rockpro64
          - board: lepotato
          - board: licheepi-4a
          - board: bananapim2s
          - board: olimex-teres-a64
          - board: nanopct6
          - board: orangepizeroplus
          - board: mixtile-blade3
          - board: bananapim5
          - board: wdk2023
          - board: orangepi-r1plus-lts
          - board: radxa-zero
          - board: sk-tda4vm
          - board: wdk2023
          - board: sk-tda4vm
          - board: wdk2023
          - board: olimex-teres-a64
          - board: sk-tda4vm
          - board: jethubj100
          - board: nanopct6
          - board: radxa-e25
          - board: pinebook-pro
          - board: rpi5b
          - board: nanopi-r5s
          - board: orangepi4-lts
          - board: bananapim2s
          - board: orangepizeroplus
          - board: lafrite
          - board: jethubj100
          - board: lafrite
          - board: jethubj100
          - board: rock-3a
          - board: orangepi5-plus
          - board: khadas-vim3
          - board: khadas-vim1
          - board: orangepi5
          - board: khadas-vim2
          - board: pinebook-pro
          - board: khadas-vim2
          - board: pinebook-pro
          - board: bananapim2pro
          - board: jethubj80
          - board: sk-tda4vm
          - board: khadas-vim3
          - board: rock-5b
          - board: orangepizero3
          - board: rock-5b
          - board: orangepi5
          - board: bananapim5
          - board: renegade
          - board: khadas-edge2
          - board: jethubj80
          - board: khadas-vim3l
          - board: orangepizero3
          - board: bananapim5
          - board: orangepizero3
          - board: bananapim5
          - board: orangepizero3
          - board: bananapim5
          - board: lafrite
          - board: rockpi-e
          - board: uefi-arm64
          - board: orangepizero3
          - board: rpi4b
          - board: renegade
          - board: nanopi-r4s
          - board: khadas-vim3l
          - board: orangepiprime
          - board: orangepizeroplus
          - board: tritium-h5
          - board: rock-3a
          - board: lepotato
          - board: nanopi-r5s
          - board: rockpi-e
          - board: nanopi-r5s
          - board: rockpi-e
          - board: nanopi-r5s
          - board: rockpi-e
          - board: nanopi-r5s
          - board: radxa-zero
          - board: orangepizero3
          - board: orangepizeroplus
          - board: olimex-teres-a64
          - board: nanopi-r5s
          - board: bigtreetech-cb1
          - board: odroidm1
          - board: orangepi5-plus
          - board: rockpi-e
          - board: uefi-arm64
          - board: khadas-vim2
          - board: radxa-zero
          - board: nanopi-r5s
          - board: bigtreetech-cb1
          - board: tritium-h5
          - board: orangepi4-lts
          - board: lafrite
          - board: thinkpad-x13s
          - board: jethubj100
          - board: rock-3a
          - board: rockpi-4a
          - board: rockpi-s
          - board: nanopi-r6s
          - board: qemu-uboot-arm64
          - board: xiaomi-elish
          - board: orangepi5-plus
          - board: uefi-arm64
          - board: xiaomi-elish
          - board: khadas-vim4
          - board: renegade
          - board: radxa-e25
          - board: odroidm1
          - board: rock-5a
          - board: rock-5b
          - board: rock-5a
          - board: odroidn2
    steps:
      - uses: igorpecovnik/delete-tag-and-release@master
        with:
          delete_release: true # default: false
          tag_name: ${{ matrix.board }} # tag name to delete
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
